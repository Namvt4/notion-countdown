<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Day - Timeline</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: transparent;
            padding: 20px;
        }

        .widget {
            background: rgba(30, 30, 40, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            width: 100%;
            max-width: 800px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
        }

        .header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .header-icon {
            font-size: 20px;
        }

        .header-title {
            color: #fff;
            font-size: 16px;
            font-weight: 600;
        }

        .chart-container {
            position: relative;
            height: 200px;
            margin-bottom: 10px;
        }

        .y-axis {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 30px;
            width: 30px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            color: rgba(255, 255, 255, 0.4);
            font-size: 10px;
        }

        .bars-container {
            position: absolute;
            left: 35px;
            right: 0;
            top: 0;
            bottom: 0;
            display: flex;
            align-items: flex-end;
            gap: 4px;
            padding-bottom: 30px;
        }

        .bar-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
            position: relative;
        }

        .bar {
            width: 80%;
            max-width: 40px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-bottom: none;
            border-radius: 4px 4px 0 0;
            position: absolute;
            bottom: 30px;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .bar.active {
            background: linear-gradient(180deg, #06b6d4, #3b82f6);
            box-shadow: 0 0 15px rgba(6, 182, 212, 0.5);
            border: none;
            z-index: 10;
            animation: pulse-bar 2s infinite;
        }

        .bar.passed {
            background: rgba(255, 255, 255, 0.05);
            opacity: 0.5;
        }

        @keyframes pulse-bar {
            0% {
                box-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
            }

            50% {
                box-shadow: 0 0 20px rgba(6, 182, 212, 0.6);
            }

            100% {
                box-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
            }
        }

        .bar-label {
            position: absolute;
            bottom: -5px;
            font-size: 9px;
            color: rgba(255, 255, 255, 0.5);
            text-align: right;
            width: 100px;
            transform: rotate(-45deg);
            transform-origin: right top;
            right: 50%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding-right: 5px;
        }

        .bar.active .bar-label {
            color: #06b6d4;
            font-weight: 600;
        }

        .y-axis {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 30px;
            width: 30px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            color: rgba(255, 255, 255, 0.4);
            font-size: 10px;
        }

        .y-axis span::after {
            content: 'h';
            font-size: 8px;
            opacity: 0.7;
        }

        .current-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .current-activity {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .activity-icon {
            font-size: 24px;
        }

        .activity-details {
            text-align: left;
        }

        .activity-name {
            color: #fff;
            font-size: 14px;
            font-weight: 600;
        }

        .activity-time {
            color: rgba(255, 255, 255, 0.5);
            font-size: 11px;
        }

        .time-remaining {
            text-align: right;
        }

        .remaining-value {
            color: #06b6d4;
            font-size: 24px;
            font-weight: 700;
        }

        .remaining-label {
            color: rgba(255, 255, 255, 0.5);
            font-size: 10px;
        }

        .grid-lines {
            position: absolute;
            left: 35px;
            right: 0;
            top: 0;
            bottom: 30px;
            pointer-events: none;
        }

        .grid-line {
            position: absolute;
            left: 0;
            right: 0;
            height: 1px;
            background: rgba(255, 255, 255, 0.05);
        }

        @media (max-width: 600px) {
            .widget {
                padding: 16px;
            }

            .bar-label {
                font-size: 6px;
            }

            .chart-container {
                height: 160px;
            }
        }
    </style>
</head>

<body>
    <div class="widget">
        <div class="header">
            <span class="header-icon">üìä</span>
            <span class="header-title">My day</span>
        </div>

        <div class="chart-container">
            <div class="y-axis">
                <span>6</span>
                <span>4.5</span>
                <span>3</span>
                <span>1.5</span>
                <span>0</span>
            </div>

            <div class="grid-lines" id="gridLines"></div>

            <div class="bars-container" id="barsContainer"></div>
        </div>

        <div class="current-info">
            <div class="current-activity">
                <span class="activity-icon" id="currentIcon">üéØ</span>
                <div class="activity-details">
                    <div class="activity-name" id="currentName">Deep Working</div>
                    <div class="activity-time" id="currentTime">10:00 - 12:00</div>
                </div>
            </div>
            <div class="time-remaining">
                <div class="remaining-value" id="remainingTime">01:45</div>
                <div class="remaining-label">c√≤n l·∫°i</div>
            </div>
        </div>
    </div>

    <script>
        const schedule = [
            { name: "Review and Planning", icon: "üìã", start: 8, end: 8.5 },
            { name: "Team Communication", icon: "üë•", start: 8.5, end: 9 },
            { name: "Business Communication", icon: "üíº", start: 9, end: 10 },
            { name: "Deep Working", icon: "üéØ", start: 10, end: 12 },
            { name: "Relax Time", icon: "‚òï", start: 12, end: 13 },
            { name: "Shallow Working", icon: "üìù", start: 13, end: 15 },
            { name: "Deep Working", icon: "üéØ", start: 15, end: 17 },
            { name: "Business Communication", icon: "üíº", start: 17, end: 17.5 },
            { name: "Team Communication", icon: "üë•", start: 17.5, end: 18 },
            { name: "Reflection Time", icon: "üßò", start: 18, end: 18.5 },
            { name: "Family Time", icon: "‚ù§Ô∏è", start: 18.5, end: 24 }
        ];

        function formatTime(decimalHour) {
            const hours = Math.floor(decimalHour);
            const minutes = Math.round((decimalHour - hours) * 60);
            return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;
        }

        function getCurrentDecimalTime() {
            const now = new Date();
            return now.getHours() + now.getMinutes() / 60 + now.getSeconds() / 3600;
        }

        function initChart() {
            const container = document.getElementById('barsContainer');
            const gridLines = document.getElementById('gridLines');

            // Create grid lines
            for (let i = 0; i <= 4; i++) {
                const line = document.createElement('div');
                line.className = 'grid-line';
                line.style.top = `${(i / 4) * 100}%`;
                gridLines.appendChild(line);
            }

            // Create bars for each activity
            schedule.forEach((activity, index) => {
                const wrapper = document.createElement('div');
                wrapper.className = 'bar-wrapper';

                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.id = `bar-${index}`;

                // Calculate bar height based on duration
                // Max height 6 hours for better visibility
                const duration = activity.end - activity.start;
                const maxScale = 6;
                const heightPercent = Math.min((duration / maxScale) * 100, 100);
                bar.style.height = `${heightPercent}%`;

                const label = document.createElement('div');
                label.className = 'bar-label';
                label.textContent = activity.name;
                bar.appendChild(label);

                wrapper.appendChild(bar);
                container.appendChild(wrapper);
            });
        }

        function updateChart() {
            const currentTime = getCurrentDecimalTime();

            schedule.forEach((activity, index) => {
                const bar = document.getElementById(`bar-${index}`);
                bar.classList.remove('active', 'passed');

                if (currentTime >= activity.start && currentTime < activity.end) {
                    bar.classList.add('active');

                    // Update current info
                    document.getElementById('currentIcon').textContent = activity.icon;
                    document.getElementById('currentName').textContent = activity.name;
                    document.getElementById('currentTime').textContent = `${formatTime(activity.start)} - ${formatTime(activity.end)}`;

                    // Calculate remaining time
                    let remaining = activity.end - currentTime;
                    const hoursLeft = Math.floor(remaining);
                    const minutesLeft = Math.floor((remaining - hoursLeft) * 60);
                    const secondsLeftVal = Math.floor((remaining * 3600) % 60);
                    document.getElementById('remainingTime').textContent = `${String(hoursLeft).padStart(2, '0')}:${String(minutesLeft).padStart(2, '0')}:${String(secondsLeftVal).padStart(2, '0')}`;

                } else if (currentTime >= activity.end) {
                    bar.classList.add('passed');
                }
            });
        }

        // Initialize
        initChart();
        updateChart();

        // Update every second
        setInterval(updateChart, 1000);
    </script>
</body>

</html>